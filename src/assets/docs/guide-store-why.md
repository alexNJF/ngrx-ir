# چرا از NGRX به عنوان یک State MAnager استفاده میکنیم؟

## state manager چیست ؟

state manager چیزی هست که حالت سیستم رو برامون نگه میداره <br/>
حالا حالت سییستم چیه : <br/>
مثلا این که یه دیتایی لود شد <br/>
یه دیتایی پاک شد <br/>
در واقع Ngrx میاد برامون یه ساختاری رو پیاده سازی میکنه
که توی کل سیستممون میتونید به صورت کلی اکشن هایی که داریم رو مدیریت کنیم <br/>

**دفت کنید که اگه اپلیکشنمون اینقدر بزرگ نبود که بخوایم از ngrx به عنوان یه state manager مرکزی استفاده کینم**<br/>
**بهتره از Ngrx component store برای مدیریت state ها به صورت محلی یا همون در سطح کامپوننت استفاده کنیم** <br/>

## کی باید از NGRX استفاده کنم ؟

در واقع شما ممکنه بخواید از
NGRX
وقتی که تعداد زیادی یوز اینترکشن دارید یا زمانی که
هندل کردن استیت تو سرویس خیلی به صرفه نیست استفاده کنید
<br/>
بهترین راه حل واسه این که ببنید اصلا
NGRX Store
به دردتون میخوره یا نه اینه که اصل
**SHARI**
رو بررسی کنید : <br/>

- **S**hared: state that is accessed by many components and services.<br/>
  این که میخوان از جاهای مختلف و زیادی به استیت دسترسی داشته باشن ؟ <br/>

- **H**ydrated: state that is persisted and rehydrated from external storage.<br/>
  آیا استیت به یک منبع خارجی وابسته هست مثلا باید از بک اند دیتا بگیریم بریزیم توش ؟ <br/>

- **A**vailable: state that needs to be available when re-entering routes.<br/>
  وقتی بین صفحات مختلف برنامه جا به جا میشیم همچنان استیت باید داشته باشیم ؟ <br/>

- **R**etrieved: state that must be retrieved with a side-effect.<br/>
  استیت باید از طریق ساید افکت ها دستکاری بشه ؟ (راستش فرق اینو با مورد دوم خودمم نفهمیدم)<br/>

- **I**mpacted: state that is impacted by actions from other sources.<br/>
  آیا استیتمون از جاهای دیگه تغییر میکنه و این تغییرات روی وضعیت فعلی ما تاثیر میزاره ؟ <br/>

با این حال استفاده از
Ngrx
داستانای خودشو داره
قرار نیست کوتاه ترین یا سریع ترین راه برای نوشتن کد باشه
مجبور میشی کلی فایل بسازی <br/>

همچمنین قبل از این که شروع کنید با
Ngrx
کار کنید بهتره درک کاملی از
Rxjs
و
Redux
داشته باشید <br/>

## Type Safety

خب همونطوری که از اسمش پیدا اینه که تایپ سیف هست یعنی نمیتونی هر چی دم دستت رسید رو بریزی توش .<br/>

## Immutability and Performance

store
روی یک ساختار واحد
immutable
هست
(immutable یعنی این که مثل آرایه میمونه وقتی یه چیزی ریختیم توش رفرنسش تغییر نمیکنه )<br/>
واسه همین خیلی خوب میتونه با
on push strategy
کار کنه<br/>

## Encapsulation

با استفاده از
NgRx Effects
و
Store،
هر گونه تعامل با ساید افکت منابع خارجی مانند درخواست های شبکه یا سوکت های وب، و همچنین هر منطق تجاری، می تواند از رابط کاربری جدا شود. این انزوا اجازه می دهد تا اجزای خالص و ساده تری داشته باشند و از اصل سینگل ریسپانیسبیلیتی حمایت می کند.<br/>

## Testable

از آنجایی که
Store
از توابع
Pure
برای تغییر استیت
استفاده می کند، تست با ماک دیتا بسیار ساده می شود.
